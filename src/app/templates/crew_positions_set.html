{% extends 'base.html' %}

{% block header %}
{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row">
<form method="post" action="{{ url_for('crew_positions_set') }}" class="p-3">
  <h4 class="py-3">Vehicle <b>{{ vehicle.description }}</b>'s position</h4>
  <div class="form-text py-3">Current position: {% if vehicle.last_known_stop %}{{ vehicle.last_known_stop.name}}{% else %}<span class="badge bg-secondary">Unknown</span>{% endif %}</div>
  <div class="mb-3">
    <label for="position" class="form-label">New position</label>
    <input style="max-width: 30em" type="text" class="form-control" name="position" list="stops" required>
  </div>
  <input type="hidden" name="redir" value="{{ g.redir }}">
  <input type="hidden" name="id" value="{{ vehicle.id }}">
  <button type="submit" class="btn btn-warning">Set Position</button>
  <datalist id="stops">
    {% for stop in Stop.query.order_by(Stop.name) %}
    <option value="{{stop.name}}">
    {% endfor %}
  </datalist>
</form>
</div>
{% endblock %}
